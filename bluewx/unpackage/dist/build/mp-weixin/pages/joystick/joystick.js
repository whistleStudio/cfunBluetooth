"use strict";var e=require("../../common/vendor.js"),r=require("../../hooks/useJoyAxis.js"),n=require("../../hooks/useJoyBtn.js"),o=require("../../utils/bt.js");const t={__name:"joystick",setup(t){const u=[221,119,50,50,0,0,0,0],{joySta:s,mvMove:f,mvStart:a,mvRelease:i,arrowPos:c}=r.useJoyAxis(u),{btnSta:y,btnTouchStart:d,btnTouchEnd:h}=n.useJoyBtn(u);let w=e.ref(0),j=e.ref(0);return e.onBeforeMount((()=>{const r=e.index.getSystemInfoSync();w.value=r.windowHeight,j.value=r.windowWidth})),e.onShow((()=>{o.bt.writeBuffer([221,119,50,50,0,0,0,0])})),(r,n)=>({a:e.unref(s).x,b:e.unref(s).y,c:e.unref(s).joyOpacity,d:e.o(((...r)=>e.unref(f)&&e.unref(f)(...r))),e:e.o(((...r)=>e.unref(a)&&e.unref(a)(...r))),f:e.o(((...r)=>e.unref(i)&&e.unref(i)(...r))),g:e.unref(s).isArrowShow,h:`translate(-50%, -50%) rotate(${e.unref(s).angle}deg)`,i:e.unref(s).joyOpacity,j:e.f(Array(4),((r,n,o)=>({a:e.t(String.fromCharCode(65+n)),b:e.o((r=>e.unref(d)(n))),c:e.o((r=>e.unref(h)(n))),d:e.unref(y).isBtnAct[n]?1:""}))),k:e.unref(w)+"px"})}};wx.createPage(t);
